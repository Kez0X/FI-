<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formations Informatique - Langages - Cours {{ langage }}</title>
    <link rel="stylesheet" href="/static/style/course_view.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
    <link rel="icon" type="image/svg" href="/static/image/FI.svg">
    <style>
        /* Style pour le lien actif */
        .active-course {
            font-weight: bold;  /* Mettre en gras */
            color: #007bff; /* Couleur bleue pour le lien actif */
        }

        /* Boutons de navigation */
        .navigation-buttons {
            margin-top: 30px;
            text-align: center;
        }

        .navigation-buttons button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1em;
            border-radius: 5px;
            margin: 0 10px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .navigation-buttons button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <nav>
        <a href="/">ðŸ”™ Retour</a>
        <h1>Cours de {{ langage }}</h1>
    </nav>

    <div class="container">
        <!-- Sidebar : Sommaire -->
        <aside class="sidebar">
            <h2>Sommaire</h2>
            <ul id="toc">
                <!-- Sommaire gÃ©nÃ©rÃ© dynamiquement -->
            </ul>
        </aside>

        <!-- Main Content : Cours -->
        <main class="course-content" id="content">
            <!-- Contenu du cours -->
        </main>
    </div>

    <div class="navigation-buttons" id="navigation-buttons">
        <!-- Boutons de navigation -->
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-left">
                <p>&copy; 2025 FI+ - Tous droits rÃ©servÃ©s</p>
            </div>
            <div class="footer-center">
                <ul class="footer-links">
                    <li><a href="https://lukabaudrant.vld-group.com/#about">Ã€ propos</a></li>
                    <li><a href="/services">Nos services</a></li>
                    <li><a href="https://lukabaudrant.vld-group.com/" target="_blank">Portfolio</a></li>
                    <li><a href="https://www.superprof.fr/freelance-informatique-etudiant-troisieme-annee-faculte-informatique-lyon-propose-cours-numerique.html#opinions" target="_blank">Superprof</a></li>
                </ul>
            </div>
            <div class="footer-right">
                <p>Contactez-moi : <a href="mailto:baudrantl@gmail.com">baudrantl@gmail.com</a></p>
            </div>
        </div>
    </footer>
    
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // RÃ©cupÃ©rer le langage et le cours Ã  partir de l'URL
            const urlParams = new URLSearchParams(window.location.search);
            const langage = urlParams.get('langage') || 'python';  // Par dÃ©faut 'python'
            const cours = urlParams.get('cours') || 'intro';  // Par dÃ©faut 'intro'

            // Fonction pour charger un cours Ã  partir d'un fichier markdown
            function loadCourse(langage, cours) {
                fetch(`/md/${langage}/${cours}`)
                    .then(response => response.text())
                    .then(md => {
                        document.getElementById("content").innerHTML = marked.parse(md);
                    });
            }

            // Charger le cours initialement
            loadCourse(langage, cours);

            // Un sommaire pour chaque langage
            const coursList = {
                "python": [
                    "intro",
                    "types-de-donnees",
                    "operations-et-operateurs",
                    "variables",
                    "controle-de-flux",
                    "boucles",
                    "fonctions",
                    "gestion-des-erreurs",
                    "manipulation-des-fichiers",
                    "classes-et-objets",
                    "modules-et-packages",
                    "structures-de-donnees-avancees",
                    "matrices",
                    "graphes",
                    "algorithmes",
                    "tuples",
                    "bibliotheques-externes",
                    "developpement-web",
                    "introduction-a-l-ia",
                    "gestion-de-projets"
                ],
                "c": [
                    "intro",
                    "types-de-donnees",
                    "operations-et-operateurs",
                    "controle-de-flux",
                    "fonctions",
                    "pointeurs",
                    "structures-de-donnees",
                    "matrices",
                    "graphes",
                    "gestion-des-erreurs",
                    "manipulation-des-fichiers",
                    "memoire-dynamique",
                    "bibliotheques-externes",
                    "programmation-systeme",
                    "optimisation-et-performance",
                    "introduction-a-lalgorithmique"
                ],
                "cpp": [
                    "intro",
                    "types-de-donnees",
                    "operations-et-operateurs",
                    "controle-de-flux",
                    "fonctions",
                    "programmation-orientee-objet",
                    "templates",
                    "gestion-des-erreurs",
                    "pointeurs-et-references",
                    "structures-de-donnees",
                    "matrices",
                    "graphes",
                    "gestion-de-la-memoire",
                    "stl",
                    "gestion-des-threads",
                    "optimisation-et-performance"
                ],
                "6eme": [
                    "pythagore",
                    "fractions",
                    "nombres-relatifs",
                    "geometrie",
                    "statistiques"
                ],
                "5eme": [
                    "calculs-composes",
                    "proportions",
                    "perimeteres-aires",
                    "volumes",
                    "probabilites"
                ],
                "4eme": [
                    "nombres-rationnels",
                    "equations",
                    "fonctions",
                    "statistiques-avancees",
                    "theoreme-de-thales"
                ],
                "3eme": [
                    "theoreme-de-pythagore",
                    "applications-du-theoreme-de-pythagore",
                    "similarite-des-triangles",
                    "le-theoreme-de-thales",
                    "volumes-des-solides",
                    "calcul-du-volume-du-cone",
                    "calcul-du-volume-de-la-sphere",
                    "calcul-du-volume-du-cylindre",
                    "moyenne-et-ecart-type",
                    "representations-graphiques",
                    "probabilites-de-base",
                    "probabilites-conditionnelles",
                    "event-independants",
                    "definir-une-fonction-affine",
                    "graphique-dune-fonction-affine",
                    "calculer-lordonne-dun-point",
                    "application-dune-fonction-affine",
                    "revision-pythagore-et-thales",
                    "revision-statistiques",
                    "revision-fonctions-affines",
                    "exercices-types-brevet",
                    "strategie-dexamen"
                ],
                "Seconde": [
                    "nombres-reels",
                    "calculs-litteraux",
                    "fonctions-affines-et-lineaires",
                    "statistiques-descriptives",
                    "probabilites"
                ],
                "Premiere": [
                    "fonctions-quadratiques",
                    "derivees",
                    "statistiques-bivariantes",
                    "probabilites-conditionnelles",
                    "algorithmique"
                ],
                "Terminale": [
                    "fonctions-exponentielles",
                    "integrales",
                    "equations-differentielles",
                    "statistiques-inferentielles",
                    "algorithmique-avancee"
                ]

            };

            // CrÃ©er le sommaire dynamique
            const toc = document.createElement("ul");
            if (coursList[langage]) {
                coursList[langage].forEach(c => {
                    const li = document.createElement("li");
                    const a = document.createElement("a");
                    a.href = `?langage=${langage}&cours=${c}`;  // Ajouter les paramÃ¨tres dans l'URL
                    a.textContent = c.replaceAll("-", " ");

                    // VÃ©rifier si le cours correspond au cours actif et ajouter la classe 'active-course'
                    if (cours === c) {
                        a.classList.add("active-course");
                    }

                    // Ajouter un Ã©vÃ©nement de clic pour empÃªcher le rechargement de la page et mettre Ã  jour le contenu
                    a.addEventListener("click", (event) => {
                        event.preventDefault();  // EmpÃªcher le rechargement de la page
                        window.history.pushState({}, "", `?langage=${langage}&cours=${c}`);  // Mettre Ã  jour l'URL
                        loadCourse(langage, c);  // Charger le cours correspondant

                        // Retirer la classe active de tous les liens
                        document.querySelectorAll("#toc a").forEach(link => link.classList.remove("active-course"));

                        // Ajouter la classe active au lien cliquÃ©
                        a.classList.add("active-course");
                    });

                    li.appendChild(a);
                    toc.appendChild(li);
                });
            }

            // Ajouter le sommaire dans l'Ã©lÃ©ment avec l'ID "toc"
            document.getElementById('toc').appendChild(toc);

            // Fonction pour afficher les boutons de navigation
            function showNavigationButtons() {
                const currentIndex = coursList[langage].indexOf(cours);
                const prevCourse = currentIndex > 0 ? coursList[langage][currentIndex - 1] : null;
                const nextCourse = currentIndex < coursList[langage].length - 1 ? coursList[langage][currentIndex + 1] : null;

                const navigationDiv = document.getElementById('navigation-buttons');
                navigationDiv.innerHTML = ''; // RÃ©initialiser les boutons

                const homeButton = document.createElement('button');
                homeButton.textContent = 'Retour Ã  l\'accueil';
                homeButton.onclick = () => {
                    window.location.href = '/';  // Redirige vers l'accueil
                };

                const prevButton = document.createElement('button');
                prevButton.textContent = prevCourse ? 'PrÃ©cÃ©dent' : 'Aucun PrÃ©cÃ©dent';
                prevButton.disabled = !prevCourse;
                prevButton.onclick = () => {
                    if (prevCourse) {
                        window.location.href = `?langage=${langage}&cours=${prevCourse}`;
                    }
                };

                const nextButton = document.createElement('button');
                nextButton.textContent = nextCourse ? 'Suivant' : 'Aucun Suivant';
                nextButton.disabled = !nextCourse;
                nextButton.onclick = () => {
                    if (nextCourse) {
                        window.location.href = `?langage=${langage}&cours=${nextCourse}`;
                    }
                };

                navigationDiv.appendChild(homeButton);
                navigationDiv.appendChild(prevButton);
                navigationDiv.appendChild(nextButton);
            }

            // Afficher les boutons de navigation au chargement
            showNavigationButtons();
        });
    </script>
</body>
</html>
